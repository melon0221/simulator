<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>NBME Exam Simulator</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <div class="exam-info">
        <div id="exam-section">Exam Section 1: Item 1 of 50</div>
        <!-- Mark 按钮和状态提示在同一行 -->
        <div class="status-row">
          <button id="flag-button">Mark</button>
          <span id="status-pill" class="pill">Unanswered</span>
          <span id="flag-pill" class="pill flag hidden">Flagged</span>
        </div>
      </div>
      <div class="timer">
        <div id="time-remaining">1 hr 15 min 00 sec</div>
        <div id="total-remaining">Total Exam Time Remaining: 5 hr 15 min 00 sec</div>
      </div>
    </div>

    <!-- Question -->
    <div class="question-wrapper">
      <div class="question-top">
        <div class="question-stem">
          <p id="question-text">Loading...</p>
        </div>
        <div class="question-image-wrapper">
          <img id="question-image" class="question-image hidden" />
        </div>
      </div>
      <div class="question-bottom">
        <ul id="answer-options" class="answers"></ul>
      </div>
    </div>

    <!-- Footer -->
    <div class="footer">
      <div class="left-buttons">
        <button id="prev-button">Previous</button>
        <button id="next-button">Next</button>
        <button id="end-block-button">End Block</button>
      </div>
      <div class="right-buttons">
        <button id="review-button">Review</button>
        <button id="pause-button">Pause</button>
      </div>
    </div>
  </div>

  <!-- Review Modal -->
  <div class="review-modal" id="review-modal">
    <div class="review-card">
      <h3>Review Questions</h3>
      <div class="legend">
        <span class="legend-item"><span class="legend-color" style="background:#FFF3CD"></span> Unanswered</span>
        <span class="legend-item"><span class="legend-color" style="background:#FDE2E1"></span> Flagged</span>
        <span class="legend-item"><span class="legend-color" style="background:#F9FAFB"></span> Answered</span>
      </div>
      <div id="review-grid" class="review-grid"></div>
      <div class="review-actions">
        <button id="close-review">Close</button>
      </div>
    </div>
  </div>

  <!-- Section Review Modal -->
  <div class="review-modal" id="section-review-modal">
    <div class="review-card">
      <h3>Section Review</h3>
      <div class="legend">
        <span class="legend-item"><span class="legend-color" style="background:#FFF3CD"></span> Unanswered</span>
        <span class="legend-item"><span class="legend-color" style="background:#FDE2E1"></span> Flagged</span>
        <span class="legend-item"><span class="legend-color" style="background:#F9FAFB"></span> Answered</span>
      </div>
      <div id="section-review-grid" class="review-grid"></div>
      <div class="review-actions">
        <button id="section-review-back">Return</button>
        <button id="section-review-end">End Section</button>
      </div>
    </div>
  </div>

  <!-- Exam Review Modal -->
  <div class="review-modal" id="exam-review-modal">
    <div class="review-card">
      <h3>Exam Review</h3>
      <div class="legend">
        <span class="legend-item"><span class="legend-color" style="background:#FFF3CD"></span> Unanswered</span>
        <span class="legend-item"><span class="legend-color" style="background:#FDE2E1"></span> Flagged</span>
        <span class="legend-item"><span class="legend-color" style="background:#F9FAFB"></span> Answered</span>
      </div>
      <div id="exam-review-content"></div>
      <div class="review-actions">
        <button id="exam-review-close">Close</button>
        <button id="exam-review-finish">Finish & Export Results</button>
      </div>
    </div>
  </div>

  <!-- Final Submit Confirmation Modal -->
  <div class="review-modal" id="submit-confirm-modal">
    <div class="review-card">
      <h3>Confirm Exam Submission</h3>
      <p>Are you sure you want to submit your exam? Once submitted, you cannot return to review or change your answers.</p>
      <div class="review-actions">
        <button id="cancel-submit">Cancel</button>
        <button id="confirm-submit">Submit & End Exam</button>
      </div>
    </div>
  </div>

  <!-- Section End Confirmation Modal -->
  <div class="review-modal" id="section-end-confirm-modal">
    <div class="review-card">
      <h3>Confirm End Section</h3>
      <p>Are you sure you want to end this section and move to the next one? Once you proceed, you cannot return to review or change your answers in this section.</p>
      <div class="review-actions">
        <button id="cancel-section-end">Cancel</button>
        <button id="confirm-section-end">End Section</button>
      </div>
    </div>
  </div>

  <!-- Image Modal -->
  <div class="image-modal hidden" id="image-modal">
    <img id="image-modal-content" class="image-modal-content" />
  </div>

  <script src="script.js"></script>
</body>
</html>
